Name:    lhsmtool_phobos
Version: @version@
Release: 1%{?dist}
Summary: Lustre HSM Copytool for Phobos

Group:   Applications/System
License: LGPLv3
URL:     https://github.com/phobos-storage/lustre-hsm-phobos
Source0: %{name}-%{version}.tar.xz

Requires: phobos >= 1.93
Requires: lustre-client

BuildRequires: meson
BuildRequires: gcc
BuildRequires: lustre-client
BuildRequires: glib2-devel >= 2.28
BuildRequires: jansson-devel >= 2.5
BuildRequires: phobos >= 1.93
BuildRequires: phobos-devel >= 1.93

%description
A Lustre HSM Copytool to use Phobos as a backend. It runs on machines that
runs Phobos' LRS daemon (version > 1.93).

%prep
%autosetup

%build
%meson
%meson_build

%install
%meson_install

%files
%{_bindir}/lhsmtool_phobos

%changelog

* Mon Oct 24 2022 - Guillaume Courrier <guillaume.courrier@cea.fr> - 1.1-1
- Rename CLI option --hsm_fuid/-t to --fuid-xattr/-x
- Store the file layout in Phobos' user_md
- Remove braces around FID in FUID
- Add support for alias in "--data"

* Thu Feb 03 2022 - Guillaume Courrier <guillaume.courrier@cea.fr> - 1.0-1
- Implementation of Archive/Restore/Delete HSM actions
- Support for hints through the "--data" option of "lfs hsm_archive"
